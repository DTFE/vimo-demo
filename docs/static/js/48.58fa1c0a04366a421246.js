webpackJsonp([48],{1029:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.RefresherContent=t.Refresher=void 0;var s=n(695),i=r(s),o=n(696),l=r(o);t.Refresher=l.default,t.RefresherContent=i.default},409:function(e,t,n){n(816);var r=n(0)(n(995),n(710),"data-v-0a164840",null);e.exports=r.exports},581:function(e,t,n){t=e.exports=n(347)(),t.push([e.i,".state[data-v-0a164840]{background:#fff}","",{version:3,sources:["/Users/Hsiang/GitHub/Vimo/dev/src/example/refresher.vue"],names:[],mappings:"AACA,wBACE,eAAiB,CAClB",file:"refresher.vue",sourcesContent:["\n.state[data-v-0a164840] {\n  background: #fff;\n}\n"],sourceRoot:""}])},596:function(e,t,n){t=e.exports=n(347)(),t.push([e.i,".ion-refresher{position:absolute;top:0;left:0;z-index:0;display:none;width:100%;height:70px}.ion-refresher.refresher-active{display:block}.has-refresher>.scroll-content{margin-top:-1px;border-top:1px solid #ddd;-webkit-transition:-webkit-transform .32s cubic-bezier(.36,.66,.04,1);transition:-webkit-transform .32s cubic-bezier(.36,.66,.04,1);transition:transform .32s cubic-bezier(.36,.66,.04,1);transition:transform .32s cubic-bezier(.36,.66,.04,1),-webkit-transform .32s cubic-bezier(.36,.66,.04,1)}.ion-refresher-content{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:100%}.refresher-pulling,.refresher-refreshing{display:none;width:100%}.refresher-pulling-icon,.refresher-refreshing-icon{font-size:30px;text-align:center;color:#000;-webkit-transform-origin:center;transform-origin:center;-webkit-transition:.2s;transition:.2s}.refresher-pulling-text,.refresher-refreshing-text{font-size:16px;text-align:center;color:#000}.refresher-refreshing .spinner-crescent circle,.refresher-refreshing .spinner-ios-small line,.refresher-refreshing .spinner-ios line{stroke:#000}.refresher-refreshing .spinner-bubbles circle,.refresher-refreshing .spinner-circles circle,.refresher-refreshing .spinner-dots circle{fill:#000}.ion-refresher[state=pulling] .ion-refresher-content .refresher-pulling,.ion-refresher[state=ready] .ion-refresher-content .refresher-pulling{display:block}.ion-refresher[state=ready] .ion-refresher-content .refresher-pulling-icon{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.ion-refresher[state=cancelling] .ion-refresher-content .refresher-pulling,.ion-refresher[state=refreshing] .ion-refresher-content .refresher-refreshing{display:block}.ion-refresher[state=cancelling] .ion-refresher-content .refresher-pulling-icon{-webkit-transform:scale(0);transform:scale(0)}.ion-refresher[state=completing] .ion-refresher-content .refresher-refreshing{display:block}.ion-refresher[state=completing] .ion-refresher-content .refresher-refreshing-icon{-webkit-transform:scale(0);transform:scale(0)}","",{version:3,sources:["/Users/Hsiang/GitHub/Vimo/dev/raw/components/refresher/refresher.vue"],names:[],mappings:"AACA,eACE,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,UAAW,AACX,aAAc,AACd,WAAY,AACZ,WAAa,CACd,AACD,gCACI,aAAe,CAClB,AACD,+BACE,gBAAiB,AAEjB,0BAA2B,AAE3B,sEAA8E,AAC9E,8DAAsE,AACtE,sDAA8D,AAC9D,wGAAyH,CAC1H,AACD,uBACE,oBAAqB,AACrB,qBAAsB,AACtB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC9B,8BAA+B,AAC3B,0BAA2B,AACvB,sBAAuB,AAC/B,wBAAyB,AACzB,+BAAgC,AAC5B,qBAAsB,AAClB,uBAAwB,AAChC,WAAa,CACd,AACD,yCAEE,aAAc,AACd,UAAY,CACb,AACD,mDAEE,eAAgB,AAChB,kBAAmB,AACnB,WAAY,AACZ,gCAAiC,AACzB,wBAAyB,AACjC,uBAA0B,AAC1B,cAAkB,CACnB,AACD,mDAEE,eAAgB,AAChB,kBAAmB,AACnB,UAAY,CACb,AACD,qIAGE,WAAa,CACd,AACD,uIAGE,SAAW,CACZ,AAID,8IACE,aAAe,CAChB,AACD,2EACE,iCAAkC,AAC1B,wBAA0B,CACnC,AAID,yJACE,aAAe,CAChB,AACD,gFACE,2BAA4B,AACpB,kBAAoB,CAC7B,AACD,8EACE,aAAe,CAChB,AACD,mFACE,2BAA4B,AACpB,kBAAoB,CAC7B",file:"refresher.vue",sourcesContent:["\n.ion-refresher {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 0;\n  display: none;\n  width: 100%;\n  height: 70px;\n}\n.ion-refresher.refresher-active {\n    display: block;\n}\n.has-refresher > .scroll-content {\n  margin-top: -1px;\n  /*no*/\n  border-top: 1px solid #ddd;\n  /*no*/\n  -webkit-transition: -webkit-transform 320ms cubic-bezier(0.36, 0.66, 0.04, 1);\n  transition: -webkit-transform 320ms cubic-bezier(0.36, 0.66, 0.04, 1);\n  transition: transform 320ms cubic-bezier(0.36, 0.66, 0.04, 1);\n  transition: transform 320ms cubic-bezier(0.36, 0.66, 0.04, 1), -webkit-transform 320ms cubic-bezier(0.36, 0.66, 0.04, 1);\n}\n.ion-refresher-content {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  height: 100%;\n}\n.refresher-pulling,\n.refresher-refreshing {\n  display: none;\n  width: 100%;\n}\n.refresher-pulling-icon,\n.refresher-refreshing-icon {\n  font-size: 30px;\n  text-align: center;\n  color: #000;\n  -webkit-transform-origin: center;\n          transform-origin: center;\n  -webkit-transition: 200ms;\n  transition: 200ms;\n}\n.refresher-pulling-text,\n.refresher-refreshing-text {\n  font-size: 16px;\n  text-align: center;\n  color: #000;\n}\n.refresher-refreshing .spinner-ios line,\n.refresher-refreshing .spinner-ios-small line,\n.refresher-refreshing .spinner-crescent circle {\n  stroke: #000;\n}\n.refresher-refreshing .spinner-bubbles circle,\n.refresher-refreshing .spinner-circles circle,\n.refresher-refreshing .spinner-dots circle {\n  fill: #000;\n}\n.ion-refresher[state=pulling] .ion-refresher-content .refresher-pulling {\n  display: block;\n}\n.ion-refresher[state=ready] .ion-refresher-content .refresher-pulling {\n  display: block;\n}\n.ion-refresher[state=ready] .ion-refresher-content .refresher-pulling-icon {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n.ion-refresher[state=refreshing] .ion-refresher-content .refresher-refreshing {\n  display: block;\n}\n.ion-refresher[state=cancelling] .ion-refresher-content .refresher-pulling {\n  display: block;\n}\n.ion-refresher[state=cancelling] .ion-refresher-content .refresher-pulling-icon {\n  -webkit-transform: scale(0);\n          transform: scale(0);\n}\n.ion-refresher[state=completing] .ion-refresher-content .refresher-refreshing {\n  display: block;\n}\n.ion-refresher[state=completing] .ion-refresher-content .refresher-refreshing-icon {\n  -webkit-transform: scale(0);\n          transform: scale(0);\n}\n"],sourceRoot:""}])},695:function(e,t,n){var r=n(0)(n(927),n(725),null,null);e.exports=r.exports},696:function(e,t,n){n(831);var r=n(0)(n(928),n(726),null,null);e.exports=r.exports},710:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Page",[n("Header",[n("Navbar",[n("Title",[e._v("Refresher")])],1)],1),e._v(" "),n("Content",{staticClass:"outer-content"},[n("Refresher",{attrs:{enabled:e.enabled},on:{onRefresh:function(t){e.doRefresh(t)}},slot:"refresher"},[n("RefresherContent",{attrs:{pullingText:"下拉刷新...",refreshingText:"正在刷新..."}})],1),e._v(" "),n("div",{staticClass:"state",attrs:{padding:"","text-center":""}},[n("p",[e._v("状态: "+e._s(e.enabled))]),e._v(" "),n("Button",{attrs:{small:"",outline:""},on:{click:e.toggleDisabled}},[e._v("禁用/启用")])],1),e._v(" "),n("List",e._l(e.list,function(t,r){return n("Item",{key:r},[e._v(e._s(t))])}))],1)],1)},staticRenderFns:[]}},725:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ion-refresher-content"},[n("div",{staticClass:"refresher-pulling"},[e.pullingIcon?n("div",{staticClass:"refresher-pulling-icon"},[n("Icon",{attrs:{name:e.pullingIcon}})],1):e._e(),e._v(" "),e.pullingText?n("div",{staticClass:"refresher-pulling-text",domProps:{innerHTML:e._s(e.pullingText)}}):e._e()]),e._v(" "),n("div",{staticClass:"refresher-refreshing"},[n("div",{staticClass:"refresher-refreshing-icon"},[n("Spinner",{attrs:{name:e.refreshingSpinner}})],1),e._v(" "),e.refreshingText?n("div",{staticClass:"refresher-refreshing-text",domProps:{innerHTML:e._s(e.refreshingText)}}):e._e()])])},staticRenderFns:[]}},726:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"ion-refresher",class:{"refresher-active":"inactive"!==e.state},style:{top:e.top},attrs:{state:e.state}},[e._t("default")],2)},staticRenderFns:[]}},816:function(e,t,n){var r=n(581);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(348)("46a95606",r,!0)},831:function(e,t,n){var r=n(596);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(348)("38afd2a0",r,!0)},927:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(26),s=n(57);t.default={name:"RefresherContent",props:{pullingIcon:{type:String,default:function(){return this.$config.get("ionPullIcon","arrow-down")||"arrow-down"}},pullingText:{type:String,default:"下拉刷新"},refreshingSpinner:{type:String,default:function(){return this.$config.get("ionRefreshingSpinner",this.$config.get("spinner","ios"))||"ios"}},refreshingText:{type:String,default:"正在刷新"}},components:{Icon:r.Icon,Spinner:s.Spinner}}},928:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),s="inactive";t.default={name:"Refresher",data:function(){return{state:s,startY:null,currentY:null,deltaY:null,progress:null,contentComponent:null,appliedStyles:!1,didStart:!1,lastCheck:0,pointerEvents:null,unregs:[],damp:.5,top:null}},props:{closeDuration:{type:Number,default:280},enabled:{type:Boolean,default:!0},pullMax:{type:Number,default:200},pullMin:{type:Number,default:70},snapbackDuration:{type:Number,default:280}},watch:{enabled:function(e){this.setListeners(e)}},methods:{complete:function(){this.closeRefresher("completing","120ms"),this.contentComponent.resize()},cancel:function(){this.closeRefresher("cancelling","")},init:function(){var e=this;(this.$vnode.context.$children[0].$children||[]).forEach(function(t){"content"===t.$options._componentTag.toLowerCase()&&(e.contentComponent=t)}),console.assert(this.contentComponent,"Refresher组件必须要在Content组件下使用"),(0,r.setElementClass)(this.contentComponent.$el,"has-refresher",!0),this.setListeners(this.enabled)},setListeners:function(e){var t=this;this.unregs&&this.unregs.length>0&&this.unregs.forEach(function(e){e&&e()}),this.$nextTick(function(){if(e){var n=t.contentComponent.getScrollElement();console.assert(n,"Refresh Component need Content Ready!::<Component>setListeners()"),(0,r.registerListener)(n,"touchstart",t.pointerDownHandler.bind(t),{passive:!1},t.unregs),(0,r.registerListener)(n,"mousedown",t.pointerDownHandler.bind(t),{passive:!1},t.unregs),(0,r.registerListener)(n,"touchmove",t.pointerMoveHandler.bind(t),{passive:!1},t.unregs),(0,r.registerListener)(n,"mousemove",t.pointerMoveHandler.bind(t),{passive:!1},t.unregs),(0,r.registerListener)(n,"touchend",t.pointerUpHandler.bind(t),{passive:!1},t.unregs),(0,r.registerListener)(n,"mouseup",t.pointerUpHandler.bind(t),{passive:!1},t.unregs)}})},pointerDownHandler:function(e){if(console.log("pointerDownHandler"),e.touches&&e.touches.length>1)return!1;if(this.state!==s)return!1;var t=this.contentComponent.getContentDimensions();if(t.scrollTop>0)return!1;var n=(0,r.pointerCoord)(e);if(t.contentTop>0){var i=t.contentTop+"px";this.top!==i&&(this.top=i)}return this.startY=this.currentY=n.y,this.progress=0,this.state=s,!0},pointerMoveHandler:function(e){if(e.touches&&e.touches.length>1)return 1;if(null===this.startY||"refreshing"===this.state||"cancelling"===this.state||"completing"===this.state)return 2;var t=Date.now();if(this.lastCheck+16>t)return 3;this.lastCheck=t;var n=(0,r.pointerCoord)(e);if(this.currentY=n.y,this.deltaY=n.y-this.startY,this.deltaY<=0)return this.progress=0,this.state!==s&&(this.state=s),this.appliedStyles?(this.setCss(0,"",!1,""),5):6;if(this.state===s){if(this.contentComponent.getContentDimensions().scrollTop>0)return this.progress=0,this.startY=null,7;this.state="pulling"}if(!this.deltaY)return this.progress=0,8;e.preventDefault(),this.setCss(this.deltaY*this.damp,"0ms",!0,""),this.goScroll()},goScroll:function(){return this.progress=this.deltaY*this.damp/this.pullMin,this.didStart||(this.didStart=!0,this.$emit("onStart",this)),this.$emit("onPull",this),this.deltaY*this.damp<this.pullMin?(this.state="pulling",2):this.deltaY*this.damp>this.pullMax?(this.beginRefresh(),3):(this.state="ready",4)},pointerUpHandler:function(){"ready"===this.state?this.beginRefresh():"pulling"===this.state&&this.cancel(),this.startY=null},beginRefresh:function(){this.state="refreshing",this.setCss(this.pullMin,this.snapbackDuration+"ms",!0,""),this.$emit("onRefresh",this)},closeRefresher:function(e,t){function n(e){e&&clearTimeout(r),this.state=s,this.progress=0,this.didStart=this.startY=this.currentY=this.deltaY=null,this.setCss(0,"0ms",!1,"")}var r;r=window.setTimeout(n.bind(this),600),this.contentComponent.onScrollElementTransitionEnd(n.bind(this)),this.state=e,this.setCss(0,"",!0,t)},setCss:function(e,t,n,r){this.appliedStyles=e>0;var s=this.$platform.css;console.assert(s,"无法获取platform中的css样式定义,refresher/refresher.vue::<Function>setCss()"),this.contentComponent.setScrollElementStyle(s.transform,e>0?"translateY("+e+"px) translateZ(0px)":"translateZ(0px)"),this.contentComponent.setScrollElementStyle(s.transitionDuration,t),this.contentComponent.setScrollElementStyle(s.transitionDelay,r),this.contentComponent.setScrollElementStyle("overflow",n?"hidden":"")}},mounted:function(){var e=this;this.$nextTick(function(){e.init()})}}},995:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1029),s=n(34),i=n(33);t.default={name:"name",data:function(){return{i:0,list:[],enabled:!0}},props:{},watch:{},computed:{},methods:{toggleDisabled:function(){this.enabled=!this.enabled},doRefresh:function(e){var t=this;console.debug("doRefresh $event");var n=this.i;setTimeout(function(){for(;10+n>t.i;t.i++)t.list.unshift("item - "+t.i);e.complete(),console.debug("onInfinite-complete")},500)}},created:function(){for(;this.i<15;this.i++)this.list.unshift("item - "+this.i)},mounted:function(){},activated:function(){},components:{Refresher:r.Refresher,RefresherContent:r.RefresherContent,List:s.List,Item:i.Item}}}});
//# sourceMappingURL=48.58fa1c0a04366a421246.js.map