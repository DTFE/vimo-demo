webpackJsonp([54],{1026:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Img=void 0;var n=i(690),s=function(t){return t&&t.__esModule?t:{default:t}}(n);e.Img=s.default},380:function(t,e,i){i(902);var n=i(0)(i(962),i(800),"data-v-b13ced4a",null);t.exports=n.exports},621:function(t,e,i){e=t.exports=i(347)(),e.push([t.i,".ion-img{display:inline-block;min-width:20px;min-height:20px;background:#eee;contain:strict}.ion-img img{display:block;-o-object-fit:cover;object-fit:cover;z-index:1}.fade-enter-active,.fade-leave-active{-webkit-transition:opacity .5s;transition:opacity .5s}.fade-enter,.fade-leave-active{opacity:0}","",{version:3,sources:["/Users/Hsiang/GitHub/Vimo/dev/raw/components/img/img.vue"],names:[],mappings:"AACA,SACE,qBAAsB,AACtB,eAAgB,AAChB,gBAAiB,AACjB,gBAAiB,AACjB,cAAgB,CACjB,AACD,aACE,cAAe,AACf,oBAAqB,AAClB,iBAAkB,AACrB,SAAW,CACZ,AACD,sCACE,+BAAgC,AAChC,sBAAwB,CACzB,AACD,+BACE,SAAW,CACZ",file:"img.vue",sourcesContent:["\n.ion-img {\n  display: inline-block;\n  min-width: 20px;\n  min-height: 20px;\n  background: #eee;\n  contain: strict;\n}\n.ion-img img {\n  display: block;\n  -o-object-fit: cover;\n     object-fit: cover;\n  z-index: 1;\n}\n.fade-enter-active, .fade-leave-active {\n  -webkit-transition: opacity .5s;\n  transition: opacity .5s;\n}\n.fade-enter, .fade-leave-active {\n  opacity: 0;\n}\n"],sourceRoot:""}])},667:function(t,e,i){e=t.exports=i(347)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"img.vue",sourceRoot:""}])},690:function(t,e,i){i(856);var n=i(0)(i(922),i(751),null,null);t.exports=n.exports},751:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ion-img img",class:{"img-loaded":t.isLoaded,"img-unloaded":!t.isLoaded},style:{width:t.w,height:t.h},attrs:{src:t.src}},[i("transition",{attrs:{name:"fade"}},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.isLoaded,expression:"isLoaded"}],ref:"img",attrs:{alt:t.alt,src:t.srcValue,width:t.w,height:t.h}})])],1)},staticRenderFns:[]}},800:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Page",[i("Header",[i("Navbar",[i("Title",[t._v("Img")])],1)],1),t._v(" "),i("Content",{attrs:{padding:""}},[i("h1",[t._v("IMG Lazyload")]),t._v(" "),i("p",[t._v("只有需要加载的图片才会下载显示, 已下载完毕的图片会等到合适位置才显示.")]),t._v(" "),i("p",[t._v("\n            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eius expedita officia quam reiciendis similique suscipit vel. Assumenda, cum error eum, fuga nobis pariatur placeat praesentium qui, repellendus repudiandae similique veritatis.")]),t._v(" "),t._l(t.totalCount,function(t){return i("Img",{key:t,attrs:{width:"100%",height:"200",src:"static/background/"+t+".jpg"}})})],2)],1)},staticRenderFns:[]}},856:function(t,e,i){var n=i(621);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(348)("261c55f6",n,!0)},902:function(t,e,i){var n=i(667);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(348)("07cef414",n,!0)},922:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1);e.default={name:"Img",props:{src:[String],alt:{type:String,default:"image"},width:{type:[Number,String],default:0},height:{type:[Number,String],default:0}},data:function(){return{isLoaded:!1,srcValue:null,w:this.wQ,h:this.hQ,canRequest:!1,canRender:!1,contentComponent:null,hasLoaded:!1,requestingSrc:null,renderedSrc:null,rect:null,imgElement:null,wQ:this.getUnitValue(this.width)||0,hQ:this.getUnitValue(this.height)||0,unRegLoadImg:null}},watch:{width:function(){this.setDims()},height:function(){this.setDims()},src:function(){this.initSrcValue()}},methods:{init:function(){var t=this;this.imgElement=this.$refs.img,this.setDims(),this.initSrcValue(),(this.$vnode.context.$children[0].$children||[]).forEach(function(e){"content"===e.$options._componentTag.toLowerCase()&&(t.contentComponent=e,t.contentComponent.addImg(t))}),console.assert(this.contentComponent,"Img组件必须在Content组件中才能正常工作!")},reset:function(){!this.requestingSrc||this.renderedSrc||this.hasLoaded||(this.srcAttr(null),this.requestingSrc=null),this.renderedSrc&&this.setLoaded(!1)},update:function(){var t=this;this.src&&this.contentComponent&&this.contentComponent.isImgsUpdatable()&&(this.canRequest&&this.src!==this.renderedSrc&&this.src!==this.requestingSrc&&!this.hasLoaded&&(this.unRegLoadImg||(this.unRegLoadImg=(0,n.registerListener)(this.imgElement,"load",function(){t.unRegLoadImg&&t.unRegLoadImg(),t.unRegLoadImg=null,t.hasLoaded=!0,t.update()},{passive:!0})),this.requestingSrc=this.src,this.setLoaded(!1),this.srcAttr(this.src),this.setDims()),this.canRender&&this.hasLoaded&&(this.src!==this.renderedSrc?(this.renderedSrc=this.src,this.setDims(),this.srcAttr(this.src),this.setLoaded(!0)):this.setLoaded(!0)))},setLoaded:function(t){this.isLoaded=t},setDims:function(){this.wQ=this.getUnitValue(this.width)||0,this.hQ=this.getUnitValue(this.height)||0,this.w===this.wQ&&this.h===this.hQ||(this.w!==this.wQ&&(this.w=this.wQ),this.h!==this.hQ&&(this.h=this.hQ))},initSrcValue:function(){this.reset(),0===this.src.indexOf("data:")?this.hasLoaded=!0:this.hasLoaded=!1,this.update()},srcAttr:function(t){this.srcValue=t},getUnitValue:function(t){if((0,n.isPresent)(t))if("string"==typeof t){if(t.indexOf("%")>-1||t.indexOf("px")>-1)return t;if(t.length)return t+"px"}else if("number"==typeof t)return t+"px";return""},getBounds:function(){return this.rect||(this.rect=this.$el.getBoundingClientRect()),this.rect},getBottom:function(){var t=this.getBounds();return t&&t.bottom||0},getTop:function(){var t=this.getBounds();return t&&t.top||0}},mounted:function(){this.init()},destroyed:function(){this.unRegLoadImg&&this.unRegLoadImg(),this.unRegLoadImg=null,this.reset()}}},962:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1026);e.default={name:"name",data:function(){return{totalCount:24}},components:{Img:n.Img}}}});
//# sourceMappingURL=54.85b05ce9ad60fe425dc1.js.map