webpackJsonp([35],{1036:function(n,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var t=e(43);i.default={name:"InfiniteScrollContent",props:{loadingSpinner:{type:String,default:function(){return this.$config&&this.$config.get("infiniteLoadingSpinner",this.$config&&this.$config.get("spinner","ios"))||"ios"}},loadingText:{type:String,default:"Loading more data..."}},data:function(){return{state:"loading"}},components:{Spinner:t.Spinner}}},1037:function(n,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var t=e(1);i.default={name:"InfiniteScroll",data:function(){return{contentComponent:null,_lastCheck:0,_init:!1,state:"enabled"}},props:{enabled:{type:Boolean,default:!0},threshold:{type:String,default:"15%"}},computed:{_thr:function(){return this.threshold},_thrPx:function(){return this.threshold.indexOf("%")>-1?0:parseFloat(this.threshold)},_thrPc:function(){return this.threshold.indexOf("%")>-1?parseFloat(this.threshold)/100:0}},methods:{complete:function(){var n=this;this.$nextTick(function(){"loading"===n.state&&(n.state="enabled",n.contentComponent.resize())})},enable:function(n){this.state=n?"enabled":"disabled",this._setListeners(n)},waitFor:function(n){var i=this.complete.bind(this);n.then(i,i)},_setListeners:function(n){this._init&&(n?this.contentComponent.$on("onScroll",this._onScroll):this.contentComponent.$off("onScroll",this._onScroll))},_onScroll:function(n){if("loading"===this.state||"disabled"===this.state)return 1;if(this._lastCheck+32>n.timeStamp)return 2;this._lastCheck=n.timeStamp;var i=this.$el.scrollHeight;if(!i)return 3;var e=this.contentComponent.getContentDimensions(),t=e.contentHeight;return this._thrPc?t+=t*this._thrPc:t+=this._thrPx,e.scrollHeight-i-e.scrollTop-t<0?("loading"!==this.state&&"disabled"!==this.state&&(this.state="loading",this.$emit("onInfinite",this)),5):6},_init:function(){var n=this;(this.$vnode.context.$children[0].$children||[]).forEach(function(i){"content"===i.$options._componentTag.toLowerCase()&&(n.contentComponent=i)}),console.assert(this.contentComponent,"InfiniteScroll组件必须要在Content组件下使用"),(0,t.setElementClass)(this.contentComponent.$el,"has-infinite-scroll",!0),this._init=!0,this._setListeners("disabled"!==this.state)}},mounted:function(){this._init()},destroy:function(){this._setListeners(!1)}}},1086:function(n,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var t=e(2),o=function(n){return n&&n.__esModule?n:{default:n}}(t),s=e(1158),l=e(35),r=e(34);i.default={name:"page",data:function(){return{i:0,list:[]}},props:{},watch:{},computed:{},methods:{onInfinite:function(n){var i=this;console.debug("onInfinite");var e=this.i;e<400?setTimeout(function(){for(;10+e>i.i;i.i++)i.list.push("item - "+i.i);n.complete(),console.debug("onInfinite-complete")},500):(n.enable(!1),console.debug("onInfinite-enable-false"))},onInfinitePromise:function(){var n=this;return console.debug("Begin async operation"),new o.default(function(i){var e=n.i;setTimeout(function(){for(;10+e>n.i;n.i++)n.list.push("item - "+n.i);console.debug("Async operation has ended"),i()},500)})}},created:function(){for(;this.i<15;this.i++)this.list.push("item - "+this.i)},mounted:function(){},activated:function(){},components:{InfiniteScroll:s.InfiniteScroll,InfiniteScrollContent:s.InfiniteScrollContent,List:l.List,Item:r.Item}}},1158:function(n,i,e){"use strict";function t(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(i,"__esModule",{value:!0}),i.InfiniteScrollContent=i.InfiniteScroll=void 0;var o=e(763),s=t(o),l=e(764),r=t(l);i.InfiniteScroll=r.default,i.InfiniteScrollContent=s.default},453:function(n,i,e){e(990);var t=e(0)(e(1086),e(871),"data-v-79e39e84",null);n.exports=t.exports},704:function(n,i,e){i=n.exports=e(414)(),i.push([n.i,".ion-infinite-scroll{display:block;width:100%}.ion-infinite-scroll-content{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:100%;min-height:84px;text-align:center}.infinite-loading{display:none;margin:0 0 32px;width:100%}.infinite-loading-text{margin:4px 32px 0;color:#666}.infinite-loading-spinner .spinner-crescent circle,.infinite-loading-spinner .spinner-ios-small line,.infinite-loading-spinner .spinner-ios line{stroke:#666}.infinite-loading-spinner .spinner-bubbles circle,.infinite-loading-spinner .spinner-circles circle,.infinite-loading-spinner .spinner-dots circle{fill:#666}.ion-infinite-scroll[state=loading] .ion-infinite-scroll-content .infinite-loading{display:block}.ion-infinite-scroll[state=disabled] .ion-infinite-scroll-content{display:none}","",{version:3,sources:["/Users/Hsiang/GitHub/Vimo/dev/raw/components/infinite-scroll/infinite-scroll.vue"],names:[],mappings:"AACA,qBACE,cAAe,AACf,UAAY,CACb,AACD,6BACE,oBAAqB,AACrB,qBAAsB,AACtB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC9B,8BAA+B,AAC3B,0BAA2B,AACvB,sBAAuB,AAC/B,wBAAyB,AACzB,+BAAgC,AAC5B,qBAAsB,AAClB,uBAAwB,AAChC,YAAa,AACb,gBAAiB,AACjB,iBAAmB,CACpB,AACD,kBACE,aAAc,AACd,gBAAmB,AACnB,UAAY,CACb,AACD,uBACE,kBAAwB,AACxB,UAAY,CACb,AACD,iJAGE,WAAa,CACd,AACD,mJAGE,SAAW,CACZ,AACD,mFACE,aAAe,CAChB,AACD,kEACE,YAAc,CACf",file:"infinite-scroll.vue",sourcesContent:["\n.ion-infinite-scroll {\n  display: block;\n  width: 100%;\n}\n.ion-infinite-scroll-content {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  height: 100%;\n  min-height: 84px;\n  text-align: center;\n}\n.infinite-loading {\n  display: none;\n  margin: 0 0 32px 0;\n  width: 100%;\n}\n.infinite-loading-text {\n  margin: 4px 32px 0 32px;\n  color: #666;\n}\n.infinite-loading-spinner .spinner-ios line,\n.infinite-loading-spinner .spinner-ios-small line,\n.infinite-loading-spinner .spinner-crescent circle {\n  stroke: #666;\n}\n.infinite-loading-spinner .spinner-bubbles circle,\n.infinite-loading-spinner .spinner-circles circle,\n.infinite-loading-spinner .spinner-dots circle {\n  fill: #666;\n}\n.ion-infinite-scroll[state=loading] .ion-infinite-scroll-content .infinite-loading {\n  display: block;\n}\n.ion-infinite-scroll[state=disabled] .ion-infinite-scroll-content {\n  display: none;\n}\n"],sourceRoot:""}])},708:function(n,i,e){i=n.exports=e(414)(),i.push([n.i,".ion-infinite-scroll .loadedAll[data-v-79e39e84]{display:none}.ion-infinite-scroll[state=disabled] .loadedAll[data-v-79e39e84]{display:block}.infiniteScroll[data-v-79e39e84]{margin-top:20px}","",{version:3,sources:["/Users/Hsiang/GitHub/Vimo/dev/src/example/infinite-scroll.vue"],names:[],mappings:"AACA,iDACE,YAAc,CACf,AACD,iEACE,aAAe,CAChB,AACD,iCACE,eAAiB,CAClB",file:"infinite-scroll.vue",sourcesContent:["\n.ion-infinite-scroll .loadedAll[data-v-79e39e84] {\n  display: none;\n}\n.ion-infinite-scroll[state=disabled] .loadedAll[data-v-79e39e84] {\n  display: block;\n}\n.infiniteScroll[data-v-79e39e84] {\n  margin-top: 20px;\n}\n"],sourceRoot:""}])},763:function(n,i,e){var t=e(0)(e(1036),e(852),null,null);n.exports=t.exports},764:function(n,i,e){e(986);var t=e(0)(e(1037),e(867),null,null);n.exports=t.exports},852:function(n,i){n.exports={render:function(){var n=this,i=n.$createElement,e=n._self._c||i;return e("div",{staticClass:"ion-infinite-scroll-content"},[e("div",{staticClass:"infinite-loading"},[n.loadingSpinner?e("div",{staticClass:"infinite-loading-spinner"},[e("Spinner",{attrs:{name:n.loadingSpinner}})],1):n._e(),n._v(" "),n.loadingText?e("div",{staticClass:"infinite-loading-text",domProps:{innerHTML:n._s(n.loadingText)}}):n._e()])])},staticRenderFns:[]}},867:function(n,i){n.exports={render:function(){var n=this,i=n.$createElement;return(n._self._c||i)("div",{staticClass:"ion-infinite-scroll",attrs:{threshold:n.threshold,state:n.state}},[n._t("default")],2)},staticRenderFns:[]}},871:function(n,i){n.exports={render:function(){var n=this,i=n.$createElement,e=n._self._c||i;return e("Page",[e("Header",[e("Navbar",[e("Title",[n._v("InfiniteScroll")])],1)],1),n._v(" "),e("Content",[e("List",n._l(n.list,function(i,t){return e("Item",{key:t},[n._v(n._s(i))])})),n._v(" "),e("InfiniteScroll",{staticClass:"infiniteScroll",attrs:{enabled:!0,threshold:"10%"},on:{onInfinite:n.onInfinite}},[e("InfiniteScrollContent",{attrs:{loadingSpinner:"ios",loadingText:"正在加载..."}}),n._v(" "),e("h5",{staticClass:"loadedAll",attrs:{"text-center":""}},[n._v("全部加载完毕")])],1)],1)],1)},staticRenderFns:[]}},986:function(n,i,e){var t=e(704);"string"==typeof t&&(t=[[n.i,t,""]]),t.locals&&(n.exports=t.locals);e(415)("3485969f",t,!0)},990:function(n,i,e){var t=e(708);"string"==typeof t&&(t=[[n.i,t,""]]),t.locals&&(n.exports=t.locals);e(415)("744fc6a6",t,!0)}});
//# sourceMappingURL=35.f509ba5384b925126aee.js.map